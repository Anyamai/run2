<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mario Runner (PC Version)</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    overflow: hidden;
    font-family: sans-serif;
  }

  /* Background container */
  #background {
    position: absolute;
    top: 0;
    left: 0;
    width: 200%; /* double width for smooth animation */
    height: 100%;
    background: url('back2.png') no-repeat left center;
    background-size: cover;
    animation: moveBack 30s linear infinite; /* smooth animation */
    z-index: -1; /* behind everything */
  }

  @keyframes moveBack {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); } /* slide left */
  }

  #game {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
  }

  /* Ground scrolling */
  .ground {
    position: absolute;
    bottom: 0;
    width: 200%;
    height: 120px;
    background: url('ground.jpeg') repeat-x;
    background-size: contain;
    animation: moveGround 3s linear infinite;
  }
  @keyframes moveGround {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  /* Player */
  .player {
    position: absolute;
    bottom: 10px;
    left: 550px;
    width: 40px;
    height: 120px;
    background: url('man.jpeg') center/cover no-repeat;
  }

  /* Coins and stones */
  .coin, .stone {
    position: absolute;
    bottom: 120px;
    animation: moveLeft 4s linear infinite;
  }
  @keyframes moveLeft {
    0% { left: 100%; }
    100% { left: -100px; }
  }

  .coin {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: gold;
    box-shadow: 0 0 10px yellow;
    animation-duration: 3s;
  }
  .stone {
    width: 30px;
    height: 50px;
    background: url('sai.jpeg') center/cover no-repeat;
  }

  #score {
    position: absolute;
    top: 15px;
    left: 25px;
    font-size: 24px;
    color: white;
    text-shadow: 2px 2px 4px black;
  }
  #instruction {
    position: absolute;
    bottom: 15px;
    right: 25px;
    font-size: 18px;
    color: white;
    opacity: 0.7;
  }
</style>
</head>
<body>
<div id="background"></div> <!-- moving background -->
<div id="game">
  <div id="score">Score: 0</div>
  <div class="player" id="player"></div>
  <div class="ground"></div>
  <div id="instruction">Press SPACE to jump</div>
</div>

<script>
const game = document.getElementById('game');
const player = document.getElementById('player');
const scoreText = document.getElementById('score');

let score = 0;
let jumping = false;
let gravity = 2;
let jumpPower = 0;
let playerBottom = 120;

// Spawn items (coins or stones)
function spawnItem() {
  const random = Math.random();
  const item = document.createElement('div');
  if (random < 0.6) {
    item.classList.add('coin');
    item.style.bottom = 150 + Math.random() * 100 + 'px';
  } else {
    item.classList.add('stone');
  }
  game.appendChild(item);
  setTimeout(() => item.remove(), 4000);
}
setInterval(spawnItem, 1500);

// Jump with spacebar
document.addEventListener('keydown', e => {
  if (e.code === 'Space' && !jumping) {
    jumping = true;
    jumpPower = 25;
  }
});

// Game loop
function update() {
  // Jump physics
  if (jumping) {
    playerBottom += jumpPower;
    jumpPower -= gravity;
    if (playerBottom <= 120) {
      playerBottom = 120;
      jumping = false;
    }
  }
  player.style.bottom = playerBottom + 'px';

  // Collision detection
  const playerRect = player.getBoundingClientRect();
  document.querySelectorAll('.coin, .stone').forEach(obj => {
    const rect = obj.getBoundingClientRect();
    if (
      playerRect.right > rect.left &&
      playerRect.left < rect.right &&
      playerRect.bottom > rect.top &&
      playerRect.top < rect.bottom
    ) {
      if (obj.classList.contains('coin')) {
        obj.remove();
        score += 10;
        scoreText.textContent = 'Score: ' + score;
      } else {
        alert('ðŸ’€ Game Over!\nFinal Score: ' + score);
        location.reload();
      }
    }
  });

  requestAnimationFrame(update);
}
update();
</script>
</body>
</html>
